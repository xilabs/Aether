<html> 
    <head> 
        <title>
            Aether Portal
        </title> 
        <style>
            canvas { width: 100%; height: 90% }
        </style> 
    </head> 
    <body> 
        <script src="three.js" type="text/javascript"></script>
        <script src="render.js" type="text/javascript"></script>
        <script src="orbitControls.js" type="text/javascript"></script>
        <script src="detector.js" type="text/javascript"></script>
        <script src="aetherObjects.js" type="text/javascript"></script>
        <script src="stats.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="jquery.mousewheel.js" type="text/javascript"></script>
        <script>
            $(document).ready(function(){
                
                if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
                
                var u = new Universe();
                
                var moxel1 = u.createMoxel([1,1,0],5);
                var moxel2 = u.createMoxel([15,1,0],5);
                
                var portal = new Portal(u);
                
                portal.populateView();
                var controls = new THREE.OrbitControls( portal.camera );
                //controls.addEventListener( 'change', render );
                
                render = function() {
                    requestAnimationFrame(render);
                    controls.update();
                    portal.updateView();
                    portal.renderer.render(portal.scene, portal.camera);
                };
                
                render();
                
                $("#xpos").val(moxel1.position[0]);
                $("#ypos").val(moxel1.position[0]);
                
                $("#update").click(function() {
                    moxel1.position[0] = $("#xpos").val();
                    moxel1.position[1] = $("#ypos").val();
                    return false;
                });
                
                $("#portal").mousewheel(function() {
                    //return false;
                });
               
            });
        </script>
        <form>
            xpos <input type="text" id="xpos" size="3">
            ypos <input type="text" id="ypos" size="3">
            <input type="submit" value="update" id="update">
        </form>
    </body> 
</html>